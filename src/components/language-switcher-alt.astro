---
import { getLocaleFromPath, getLocalizedPath } from "../utils/i18n";

const locales = ["en", "es"] as const;
const currentLocale = getLocaleFromPath(Astro.url.pathname);
---

<!-- Alternative design: Flag-based switcher -->
<div class="flex items-center space-x-1">
  {
    locales.map((locale) => (
      <a
        href={getLocalizedPath("/", locale)}
        class={`relative p-2 rounded-full transition-all duration-200 ${
          locale === currentLocale
            ? "bg-slate-200 dark:bg-slate-700 scale-110"
            : "hover:bg-slate-100 dark:hover:bg-slate-800 hover:scale-105"
        }`}
        aria-label={`Switch to ${locale === "en" ? "English" : "EspaÃ±ol"}`}
      >
        <span class="text-lg">{locale === "en" ? "ðŸ‡ºðŸ‡¸" : "ðŸ‡ªðŸ‡¸"}</span>
        {locale === currentLocale && (
          <div class="absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-slate-600 dark:bg-slate-400 rounded-full" />
        )}
      </a>
    ))
  }
</div>
